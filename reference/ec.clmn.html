<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Data column format — ec.clmn • echarty</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data column format — ec.clmn"><meta name="description" content="Helper function to display/format data column(s) by index or name"><meta property="og:description" content="Helper function to display/format data column(s) by index or name"><meta property="og:image" content="https://helgasoft.github.io/echarty/logo.png"><!-- dependencies from examples --><script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="libs/echarty-1.6.3/echarts.min.js"></script><script src="libs/echarty-1.6.3/ecStat.min.js"></script><script src="libs/echarty-binding-1.6.5/echarty.js"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">echarty</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/echarty.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-gallery-" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Gallery+</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-gallery-"><li><a class="dropdown-item" href="../articles/gallery.html">Gallery</a></li>
    <li><a class="dropdown-item" href="../articles/extras.html">Extras</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/mapping.html">Tutor - mapping</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/echarty_R" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/helgasoft/echarty/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data column format</h1>
      <small class="dont-index">Source: <a href="https://github.com/helgasoft/echarty/blob/HEAD/R/util.R" class="external-link"><code>R/util.R</code></a></small>
      <div class="d-none name"><code>ec.clmn.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Helper function to display/format data column(s) by index or name</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ec.clmn</span><span class="op">(</span>col <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-col">col<a class="anchor" aria-label="anchor" href="#arg-col"></a></dt>
<dd><p>A single column index(number) or column name(quoted string), <br>
or a <a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a> string template for multiple columns.<br>
NULL(default) for charts with single values like tree, pie.<br>
'json' to display tooltip with all available values to choose from.<br>
'log' to write all values in the JS console (F12) for debugging.<br>
Can contain JS function starting with <em>'function('</em> or <em>'(x) =&gt; {'</em>.<br></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Comma separated column indexes or names, only when <em>col</em> is <em>sprintf</em>. This allows formatting of multiple columns, as for a tooltip.<br></p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>A positive number, multiplier for numeric columns. When scale is 0, all numeric values are rounded.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A JavaScript code string (usually a function) marked as executable, see <a href="https://rdrr.io/pkg/htmlwidgets/man/JS.html" class="external-link">JS</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is useful for attributes like formatter, color, symbolSize, label.<br>
Column indexes are counted in R and start with 1.<br>
Omit <em>col</em> or use index -1 for single values in tree/pie charts, <em>axisLabel.formatter</em> or <em>valueFormatter</em>. See <a href="ec.data.html">ec.data</a> dendrogram example.<br>
Column indexes are decimals for combo charts with multiple series, see <a href="ecr.band.html">ecr.band</a> example. The whole number part is the serie index, the decimal part is the column index inside.<br><em>col</em> as sprintf has the same placeholder <em>%@</em> for both column indexes or column names.<br><em>col</em> as sprintf can contain double quotes, but not single or backquotes.<br>
Template placeholders with formatting:<br></p><ul><li><p><em>%@</em> will display column value as-is.<br></p></li>
<li><p><em>%L@</em> will display a number in locale format, like '12,345.09'.<br></p></li>
<li><p><em>%LR@</em> rounded number in locale format, like '12,345'.<br></p></li>
<li><p><em>%R@</em> rounded number, like '12345'.<br></p></li>
<li><p><em>%R2@</em> rounded number, two digits after decimal point.<br></p></li>
<li><p><em>%M@</em> marker in series' color.<br>
For <em>trigger='axis'</em> (multiple series) one can use decimal column indexes.<br>
See definition above and example below.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  emoji <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'A'</span>,<span class="st">'B'</span>,<span class="st">'C'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">iris</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span>      <span class="co"># add 6th column emoji</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(Species)`</span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="ec.init.html">ec.init</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  series.param<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>label<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>show<span class="op">=</span> <span class="cn">TRUE</span>, formatter<span class="op">=</span> <span class="fu">ec.clmn</span><span class="op">(</span><span class="st">'emoji'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  tooltip<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>formatter<span class="op">=</span></span></span>
<span class="r-in"><span>    <span class="co"># with sprintf template + multiple column indexes</span></span></span>
<span class="r-in"><span>    <span class="fu">ec.clmn</span><span class="op">(</span><span class="st">'%M@ species &lt;b&gt;%@&lt;/b&gt;&lt;br&gt;s.len &lt;b&gt;%@&lt;/b&gt;&lt;br&gt;s.wid &lt;b&gt;%@&lt;/b&gt;'</span>, <span class="fl">5</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<div id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:700px;height:432.632880098888px;" class="echarty html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"theme":"","draw":true,"renderer":"canvas","locale":"EN","useDirtyRect":false,"jcode":null,"dbg":false,"opts":{"tooltip":{"formatter":"function(x) {var sprintf= (template, vals) => { j=0; if (template=='%@') return vals[j++]; return template.replace(/%@|%L@|%LR@|%R@|%R2@|%M@/g, (m) => {   if (m=='%@') return vals[j++];   if (m=='%L@') return Number(vals[j++]).toLocaleString();   if (m=='%LR@') return Math.round(Number(vals[j++])).toLocaleString();   if (m=='%R@') return Math.round(Number(vals[j++]));   if (m=='%R2@') return Number(vals[j++]).toFixed(2);   if (m=='%M@') return x.marker; }); };ss=[4,0,1]; vv= ss.map((e) => {    if (e<0) return x.value ? x.value : x;   i= Math.floor(e);   return x.value!=null ? x.value[i] :           x.data!=null  ? x.data[i] :           x[i]!=null    ? x[i] : `no data` }); if (vv.length > 0)   vv = ss.map((e,idx) => {     if (typeof vv[idx] != 'object') return vv[idx];     f= Math.round(e % 1 *10) -1;     return vv[idx].value[f];   });  vv= vv.map(e => isNaN(e) | !e ? e : e* 1 );c= sprintf(`%M@ species <b>%@<\/b><br>s.len <b>%@<\/b><br>s.wid <b>%@<\/b>`, vv); return c; }"},"dataset":[{"dimensions":["Sepal.Length","Sepal.Width","Petal.Length","Petal.Width","Species","emoji"],"source":[[5.1,3.5,1.4,0.2,"setosa","A"],[4.9,3,1.4,0.2,"setosa","A"],[4.7,3.2,1.3,0.2,"setosa","A"],[4.6,3.1,1.5,0.2,"setosa","A"],[5,3.6,1.4,0.2,"setosa","A"],[5.4,3.9,1.7,0.4,"setosa","A"],[4.6,3.4,1.4,0.3,"setosa","A"],[5,3.4,1.5,0.2,"setosa","A"],[4.4,2.9,1.4,0.2,"setosa","A"],[4.9,3.1,1.5,0.1,"setosa","A"],[5.4,3.7,1.5,0.2,"setosa","A"],[4.8,3.4,1.6,0.2,"setosa","A"],[4.8,3,1.4,0.1,"setosa","A"],[4.3,3,1.1,0.1,"setosa","A"],[5.8,4,1.2,0.2,"setosa","A"],[5.7,4.4,1.5,0.4,"setosa","A"],[5.4,3.9,1.3,0.4,"setosa","A"],[5.1,3.5,1.4,0.3,"setosa","A"],[5.7,3.8,1.7,0.3,"setosa","A"],[5.1,3.8,1.5,0.3,"setosa","A"],[5.4,3.4,1.7,0.2,"setosa","A"],[5.1,3.7,1.5,0.4,"setosa","A"],[4.6,3.6,1,0.2,"setosa","A"],[5.1,3.3,1.7,0.5,"setosa","A"],[4.8,3.4,1.9,0.2,"setosa","A"],[5,3,1.6,0.2,"setosa","A"],[5,3.4,1.6,0.4,"setosa","A"],[5.2,3.5,1.5,0.2,"setosa","A"],[5.2,3.4,1.4,0.2,"setosa","A"],[4.7,3.2,1.6,0.2,"setosa","A"],[4.8,3.1,1.6,0.2,"setosa","A"],[5.4,3.4,1.5,0.4,"setosa","A"],[5.2,4.1,1.5,0.1,"setosa","A"],[5.5,4.2,1.4,0.2,"setosa","A"],[4.9,3.1,1.5,0.2,"setosa","A"],[5,3.2,1.2,0.2,"setosa","A"],[5.5,3.5,1.3,0.2,"setosa","A"],[4.9,3.6,1.4,0.1,"setosa","A"],[4.4,3,1.3,0.2,"setosa","A"],[5.1,3.4,1.5,0.2,"setosa","A"],[5,3.5,1.3,0.3,"setosa","A"],[4.5,2.3,1.3,0.3,"setosa","A"],[4.4,3.2,1.3,0.2,"setosa","A"],[5,3.5,1.6,0.6,"setosa","A"],[5.1,3.8,1.9,0.4,"setosa","A"],[4.8,3,1.4,0.3,"setosa","A"],[5.1,3.8,1.6,0.2,"setosa","A"],[4.6,3.2,1.4,0.2,"setosa","A"],[5.3,3.7,1.5,0.2,"setosa","A"],[5,3.3,1.4,0.2,"setosa","A"],[7,3.2,4.7,1.4,"versicolor","B"],[6.4,3.2,4.5,1.5,"versicolor","B"],[6.9,3.1,4.9,1.5,"versicolor","B"],[5.5,2.3,4,1.3,"versicolor","B"],[6.5,2.8,4.6,1.5,"versicolor","B"],[5.7,2.8,4.5,1.3,"versicolor","B"],[6.3,3.3,4.7,1.6,"versicolor","B"],[4.9,2.4,3.3,1,"versicolor","B"],[6.6,2.9,4.6,1.3,"versicolor","B"],[5.2,2.7,3.9,1.4,"versicolor","B"],[5,2,3.5,1,"versicolor","B"],[5.9,3,4.2,1.5,"versicolor","B"],[6,2.2,4,1,"versicolor","B"],[6.1,2.9,4.7,1.4,"versicolor","B"],[5.6,2.9,3.6,1.3,"versicolor","B"],[6.7,3.1,4.4,1.4,"versicolor","B"],[5.6,3,4.5,1.5,"versicolor","B"],[5.8,2.7,4.1,1,"versicolor","B"],[6.2,2.2,4.5,1.5,"versicolor","B"],[5.6,2.5,3.9,1.1,"versicolor","B"],[5.9,3.2,4.8,1.8,"versicolor","B"],[6.1,2.8,4,1.3,"versicolor","B"],[6.3,2.5,4.9,1.5,"versicolor","B"],[6.1,2.8,4.7,1.2,"versicolor","B"],[6.4,2.9,4.3,1.3,"versicolor","B"],[6.6,3,4.4,1.4,"versicolor","B"],[6.8,2.8,4.8,1.4,"versicolor","B"],[6.7,3,5,1.7,"versicolor","B"],[6,2.9,4.5,1.5,"versicolor","B"],[5.7,2.6,3.5,1,"versicolor","B"],[5.5,2.4,3.8,1.1,"versicolor","B"],[5.5,2.4,3.7,1,"versicolor","B"],[5.8,2.7,3.9,1.2,"versicolor","B"],[6,2.7,5.1,1.6,"versicolor","B"],[5.4,3,4.5,1.5,"versicolor","B"],[6,3.4,4.5,1.6,"versicolor","B"],[6.7,3.1,4.7,1.5,"versicolor","B"],[6.3,2.3,4.4,1.3,"versicolor","B"],[5.6,3,4.1,1.3,"versicolor","B"],[5.5,2.5,4,1.3,"versicolor","B"],[5.5,2.6,4.4,1.2,"versicolor","B"],[6.1,3,4.6,1.4,"versicolor","B"],[5.8,2.6,4,1.2,"versicolor","B"],[5,2.3,3.3,1,"versicolor","B"],[5.6,2.7,4.2,1.3,"versicolor","B"],[5.7,3,4.2,1.2,"versicolor","B"],[5.7,2.9,4.2,1.3,"versicolor","B"],[6.2,2.9,4.3,1.3,"versicolor","B"],[5.1,2.5,3,1.1,"versicolor","B"],[5.7,2.8,4.1,1.3,"versicolor","B"],[6.3,3.3,6,2.5,"virginica","C"],[5.8,2.7,5.1,1.9,"virginica","C"],[7.1,3,5.9,2.1,"virginica","C"],[6.3,2.9,5.6,1.8,"virginica","C"],[6.5,3,5.8,2.2,"virginica","C"],[7.6,3,6.6,2.1,"virginica","C"],[4.9,2.5,4.5,1.7,"virginica","C"],[7.3,2.9,6.3,1.8,"virginica","C"],[6.7,2.5,5.8,1.8,"virginica","C"],[7.2,3.6,6.1,2.5,"virginica","C"],[6.5,3.2,5.1,2,"virginica","C"],[6.4,2.7,5.3,1.9,"virginica","C"],[6.8,3,5.5,2.1,"virginica","C"],[5.7,2.5,5,2,"virginica","C"],[5.8,2.8,5.1,2.4,"virginica","C"],[6.4,3.2,5.3,2.3,"virginica","C"],[6.5,3,5.5,1.8,"virginica","C"],[7.7,3.8,6.7,2.2,"virginica","C"],[7.7,2.6,6.9,2.3,"virginica","C"],[6,2.2,5,1.5,"virginica","C"],[6.9,3.2,5.7,2.3,"virginica","C"],[5.6,2.8,4.9,2,"virginica","C"],[7.7,2.8,6.7,2,"virginica","C"],[6.3,2.7,4.9,1.8,"virginica","C"],[6.7,3.3,5.7,2.1,"virginica","C"],[7.2,3.2,6,1.8,"virginica","C"],[6.2,2.8,4.8,1.8,"virginica","C"],[6.1,3,4.9,1.8,"virginica","C"],[6.4,2.8,5.6,2.1,"virginica","C"],[7.2,3,5.8,1.6,"virginica","C"],[7.4,2.8,6.1,1.9,"virginica","C"],[7.9,3.8,6.4,2,"virginica","C"],[6.4,2.8,5.6,2.2,"virginica","C"],[6.3,2.8,5.1,1.5,"virginica","C"],[6.1,2.6,5.6,1.4,"virginica","C"],[7.7,3,6.1,2.3,"virginica","C"],[6.3,3.4,5.6,2.4,"virginica","C"],[6.4,3.1,5.5,1.8,"virginica","C"],[6,3,4.8,1.8,"virginica","C"],[6.9,3.1,5.4,2.1,"virginica","C"],[6.7,3.1,5.6,2.4,"virginica","C"],[6.9,3.1,5.1,2.3,"virginica","C"],[5.8,2.7,5.1,1.9,"virginica","C"],[6.8,3.2,5.9,2.3,"virginica","C"],[6.7,3.3,5.7,2.5,"virginica","C"],[6.7,3,5.2,2.3,"virginica","C"],[6.3,2.5,5,1.9,"virginica","C"],[6.5,3,5.2,2,"virginica","C"],[6.2,3.4,5.4,2.3,"virginica","C"],[5.9,3,5.1,1.8,"virginica","C"]]},{"transform":{"type":"filter","config":{"dimension":"Species","=":"setosa"}},"id":"setosa"},{"transform":{"type":"filter","config":{"dimension":"Species","=":"versicolor"}},"id":"versicolor"},{"transform":{"type":"filter","config":{"dimension":"Species","=":"virginica"}},"id":"virginica"}],"series":[{"type":"scatter","datasetIndex":1,"name":"setosa","label":{"show":true,"formatter":"function(x) {var sprintf= (template, vals) => { j=0; if (template=='%@') return vals[j++]; return template.replace(/%@|%L@|%LR@|%R@|%R2@|%M@/g, (m) => {   if (m=='%@') return vals[j++];   if (m=='%L@') return Number(vals[j++]).toLocaleString();   if (m=='%LR@') return Math.round(Number(vals[j++])).toLocaleString();   if (m=='%R@') return Math.round(Number(vals[j++]));   if (m=='%R2@') return Number(vals[j++]).toFixed(2);   if (m=='%M@') return x.marker; }); }; pos=['Sepal.Length','Sepal.Width','Petal.Length','Petal.Width','Species','emoji'];  aa= Array.isArray(x) ? x : x.data; tmp= null; if (aa && aa instanceof Object && !Array.isArray(aa)) {  tmp= Object.keys(aa); if (tmp.length==1 && tmp[0]=='value') aa= x.data.value;} if (tmp && tmp.length>1)  vv=[x.data['emoji']]; else {  if (!aa || !aa.length) return `no data`;  args= [`emoji`];   pos= args.map(z => pos.indexOf(z));  vv= pos.map(p => aa[p]); } vv= vv.map(e => isNaN(e) | !e ? e : e* 1 );c= sprintf(`%@`, vv); return c; }"}},{"type":"scatter","datasetIndex":2,"name":"versicolor","label":{"show":true,"formatter":"function(x) {var sprintf= (template, vals) => { j=0; if (template=='%@') return vals[j++]; return template.replace(/%@|%L@|%LR@|%R@|%R2@|%M@/g, (m) => {   if (m=='%@') return vals[j++];   if (m=='%L@') return Number(vals[j++]).toLocaleString();   if (m=='%LR@') return Math.round(Number(vals[j++])).toLocaleString();   if (m=='%R@') return Math.round(Number(vals[j++]));   if (m=='%R2@') return Number(vals[j++]).toFixed(2);   if (m=='%M@') return x.marker; }); }; pos=['Sepal.Length','Sepal.Width','Petal.Length','Petal.Width','Species','emoji'];  aa= Array.isArray(x) ? x : x.data; tmp= null; if (aa && aa instanceof Object && !Array.isArray(aa)) {  tmp= Object.keys(aa); if (tmp.length==1 && tmp[0]=='value') aa= x.data.value;} if (tmp && tmp.length>1)  vv=[x.data['emoji']]; else {  if (!aa || !aa.length) return `no data`;  args= [`emoji`];   pos= args.map(z => pos.indexOf(z));  vv= pos.map(p => aa[p]); } vv= vv.map(e => isNaN(e) | !e ? e : e* 1 );c= sprintf(`%@`, vv); return c; }"}},{"type":"scatter","datasetIndex":3,"name":"virginica","label":{"show":true,"formatter":"function(x) {var sprintf= (template, vals) => { j=0; if (template=='%@') return vals[j++]; return template.replace(/%@|%L@|%LR@|%R@|%R2@|%M@/g, (m) => {   if (m=='%@') return vals[j++];   if (m=='%L@') return Number(vals[j++]).toLocaleString();   if (m=='%LR@') return Math.round(Number(vals[j++])).toLocaleString();   if (m=='%R@') return Math.round(Number(vals[j++]));   if (m=='%R2@') return Number(vals[j++]).toFixed(2);   if (m=='%M@') return x.marker; }); }; pos=['Sepal.Length','Sepal.Width','Petal.Length','Petal.Width','Species','emoji'];  aa= Array.isArray(x) ? x : x.data; tmp= null; if (aa && aa instanceof Object && !Array.isArray(aa)) {  tmp= Object.keys(aa); if (tmp.length==1 && tmp[0]=='value') aa= x.data.value;} if (tmp && tmp.length>1)  vv=[x.data['emoji']]; else {  if (!aa || !aa.length) return `no data`;  args= [`emoji`];   pos= args.map(z => pos.indexOf(z));  vv= pos.map(p => aa[p]); } vv= vv.map(e => isNaN(e) | !e ? e : e* 1 );c= sprintf(`%@`, vv); return c; }"}}],"legend":{"data":[{"name":"setosa"},{"name":"versicolor"},{"name":"virginica"}]},"xAxis":{"show":true,"type":"value","name":"Sepal.Length"},"yAxis":{"show":true,"type":"value","name":"Sepal.Width"}},"settings":{"crosstalk_key":null,"crosstalk_group":null}},"evals":["opts.tooltip.formatter","opts.series.0.label.formatter","opts.series.1.label.formatter","opts.series.2.label.formatter"],"jsHooks":[]}</script><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># tooltip decimal indexes work with full data sets (no missing/partial data)</span></span></span>
<span class="r-in"><span><span class="va">ChickWeight</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Chick<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">Chick</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Chick</span><span class="op">&gt;</span><span class="fl">47</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Chick</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ec.init.html">ec.init</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  tooltip<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>trigger<span class="op">=</span><span class="st">'axis'</span>, </span></span>
<span class="r-in"><span>                formatter<span class="op">=</span> <span class="fu">ec.clmn</span><span class="op">(</span><span class="st">"48: %@&lt;br&gt;49: %@&lt;br&gt;50: %@"</span>, <span class="fl">1.1</span>, <span class="fl">2.1</span>, <span class="fl">3.1</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  xAxis<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type<span class="op">=</span><span class="st">'category'</span><span class="op">)</span>, legend<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>formatter<span class="op">=</span> <span class="st">'Ch.{name}'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  series.param<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type<span class="op">=</span><span class="st">'line'</span>, encode<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">'Time'</span>, y<span class="op">=</span><span class="st">'weight'</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<div id="htmlwidget-e5c8c404fe174e4c81bd" style="width:700px;height:432.632880098888px;" class="echarty html-widget"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"theme":"","draw":true,"renderer":"canvas","locale":"EN","useDirtyRect":false,"jcode":null,"dbg":false,"opts":{"tooltip":{"trigger":"axis","formatter":"function(x) {var sprintf= (template, vals) => { j=0; if (template=='%@') return vals[j++]; return template.replace(/%@|%L@|%LR@|%R@|%R2@|%M@/g, (m) => {   if (m=='%@') return vals[j++];   if (m=='%L@') return Number(vals[j++]).toLocaleString();   if (m=='%LR@') return Math.round(Number(vals[j++])).toLocaleString();   if (m=='%R@') return Math.round(Number(vals[j++]));   if (m=='%R2@') return Number(vals[j++]).toFixed(2);   if (m=='%M@') return x.marker; }); };ss=[0.1,1.1,2.1]; vv= ss.map((e) => {    if (e<0) return x.value ? x.value : x;   i= Math.floor(e);   return x.value!=null ? x.value[i] :           x.data!=null  ? x.data[i] :           x[i]!=null    ? x[i] : `no data` }); if (vv.length > 0)   vv = ss.map((e,idx) => {     if (typeof vv[idx] != 'object') return vv[idx];     f= Math.round(e % 1 *10) -1;     return vv[idx].value[f];   });  vv= vv.map(e => isNaN(e) | !e ? e : e* 1 );c= sprintf(`48: %@<br>49: %@<br>50: %@`, vv); return c; }"},"xAxis":{"type":"category","name":"Time"},"legend":{"formatter":"Ch.{name}"},"dataset":[{"dimensions":["weight","Time","Chick","Diet"],"source":[[42,0,49,"4"],[49,2,49,"4"],[63,4,49,"4"],[84,6,49,"4"],[103,8,49,"4"],[126,10,49,"4"],[160,12,49,"4"],[174,14,49,"4"],[204,16,49,"4"],[234,18,49,"4"],[269,20,49,"4"],[281,21,49,"4"],[39,0,50,"4"],[50,2,50,"4"],[62,4,50,"4"],[80,6,50,"4"],[104,8,50,"4"],[125,10,50,"4"],[154,12,50,"4"],[170,14,50,"4"],[222,16,50,"4"],[261,18,50,"4"],[303,20,50,"4"],[322,21,50,"4"],[41,0,48,"4"],[54,2,48,"4"],[67,4,48,"4"],[84,6,48,"4"],[105,8,48,"4"],[122,10,48,"4"],[155,12,48,"4"],[175,14,48,"4"],[205,16,48,"4"],[234,18,48,"4"],[264,20,48,"4"],[264,21,48,"4"]]},{"transform":{"type":"filter","config":{"dimension":"Chick","=":48}},"id":48},{"transform":{"type":"filter","config":{"dimension":"Chick","=":49}},"id":49},{"transform":{"type":"filter","config":{"dimension":"Chick","=":50}},"id":50}],"series":[{"datasetIndex":1,"name":"48","type":"line","encode":{"x":"Time","y":"weight"}},{"datasetIndex":2,"name":"49","type":"line","encode":{"x":"Time","y":"weight"}},{"datasetIndex":3,"name":"50","type":"line","encode":{"x":"Time","y":"weight"}}],"yAxis":{"show":true,"name":"weight","type":"value"}},"settings":{"crosstalk_key":null,"crosstalk_group":null}},"evals":["opts.tooltip.formatter"],"jsHooks":[]}</script></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>(c) Helgasoft</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

