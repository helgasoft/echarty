<!DOCTYPE html>
<!--    
ECharts + GL and mobile touch devices
Apparently ECharts is focusing more on desktop implementations, less on mobile.
For instance, a simple touch(click) does not work on mobile devices for 3D Globe.
Luckily, thanks to @7upcat and @uozanyildiz there is a [workaround](https://github.com/apache/echarts/issues/9906), which enables a single touch 'click' behaviour.
However the fix involves commenting out a line in the core library [echarts.js](https://github.com/apache/echarts/blob/master/dist/echarts.js#4591) - not very practical.
In v.5.3.2 this line is #4591 ```scope.touching = true;```.
This is a demo of 3D Globe working with a fixed echarts.js :
-->

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>echarts 3D earth</title>
		<style type="text/css">
			body{
				width: 100%;
				height: 100%;
				position: absolute;
			}
			#box{				
				width: 100%;
				height: 100%;
			}
		</style>
	</head>
	<body>
		<!--script src="https://cdn.jsdelivr.net/npm/echarts@latest/dist/echarts.min.js" type="text/javascript" charset="utf-8"></script>-->
		<script src="echarts.5.3.2.T.js"></script>
		<!--script src="echarts.min.533.js"></script-->
		<script src="https://cdn.jsdelivr.net/npm/echarts-gl@2.0.8/dist/echarts-gl.min.js" type="text/javascript" charset="utf-8"></script>

		<div id="box" class="main"></div>
			
<script type="text/javascript">

var chartDom = document.getElementById('box');
var myChart = echarts.init(chartDom);
var option;

option = {
  title: {text: 'ECharts v.5.3.2 touch fix'},
  backgroundColor: '#000',
  globe: {
    baseTexture: 'earth.jpg', 
    displacementScale: 0.1,
    shading: 'lambert',
    light: {
      ambient: { intensity: 0.1      },
      main: { intensity: 1.5      }
    },
    viewControl: { 
        autoRotate: false, targetCoord: [-117,32], 
        distance: 250 },
  },
  series: [
	{type: 'scatter3D', coordinateSystem: 'globe', 
     symbolSize: 79, itemStyle: {color: 'red'},
		data: [
		{
			name: 'p1',
			value: [-117,32,1]
		},
		{
			name: 'p2',
			value: [2,39,10]
		}
		] 
	}],
  tooltip: {
		formatter: function(x) { return '<b>'+ x.data.name +
	            '</b><br>altitude <b>'+ x.data.value[2]+'</b> km'; }
	}
};
option && myChart.setOption(option);
myChart.on('click',(params) => alert('clicked '+params.name));

</script>

</body></html>